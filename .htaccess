# Don't allow any pages to be framed by my site or any others
# Defends against CSRF. Current only support by Firefox 4 but the
# other browser will add support soon.
Header set X-Frame-Options DENY

# Only allow JavaScript from the same domain to be run.
# Also, don't allow inline JavaScript to run.
# Header set X-Content-Security-Policy "allow 'self';" 
# Header set X-WebKit-CSP: "default-src 'self'"

# Turns on IE 8 XSS prevention tools
Header set X-XSS-Protection "1; mode=block"

# Don't send out the Server header. This way no one knows what
Header unset Server

# charset and lang
AddDefaultCharset "utf-8"
DefaultLanguage "fr, en"

# hours
SetEnv TZ Europe/Paris

## contrôle du cache navigateur - Expire headers  
<IfModule mod_expires.c>  
    ExpiresActive On  
    ExpiresDefault "access plus 7200 seconds"  
    ExpiresByType image/jpg             "access plus 1 week"  
    ExpiresByType image/jpeg            "access plus 1 week"  
    ExpiresByType image/png             "access plus 1 week"  
    ExpiresByType image/gif             "access plus 1 week"  
    ExpiresByType image/svg+xml         "access plus 1 week"  
    AddType image/x-icon .ico  
    ExpiresByType image/ico             "access plus 1 week"  
    ExpiresByType image/icon            "access plus 1 week"  
    ExpiresByType image/x-icon          "access plus 1 week"  
    ExpiresByType text/css              "access plus 1 week"  
    ExpiresByType text/javascript       "access plus 1 week"  
    ExpiresByType text/html             "access plus 7200 seconds"  
    ExpiresByType application/xhtml+xml     "access plus 7200 seconds"  
    ExpiresByType application/javascript    "access plus 1 week"  
    ExpiresByType application/x-javascript  "access plus 1 week"  
    ExpiresByType application/x-shockwave-flash "access plus 1 week"  
</IfModule>

# cache expire
<IfModule mod_headers.c>
<FilesMatch "\.(js|css|gif|jpg|jpeg|png|ico)$">

# unset cookies for little website
Header unset Cookie
Header unset Set-Cookie

Header set Cache-Control "max-age=31536000"

Header set vary  "Accept-Encoding"
Header append vary "User-Agent"
Header append Cache-Control "public" 

Header append Connection "Keep-Alive"
Header append Keep-Alive "timeout=5, max=100"

FileETag None
</FilesMatch>
</IfModule>

# MOD_DEFLATE COMPRESSION
SetOutputFilter DEFLATE
AddOutputFilterByType DEFLATE text/html text/css text/plain text/xml application/x-javascript application/x-httpd-php
#Pour les navigateurs incompatibles
BrowserMatch ^Mozilla/4 gzip-only-text/html
BrowserMatch ^Mozilla/4\.0[678] no-gzip
BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
BrowserMatch \bMSI[E] !no-gzip !gzip-only-text/html
#ne pas mettre en cache si ces fichiers le sont déjà
SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip
#les proxies doivent donner le bon contenu
Header append Vary User-Agent env=!dont-vary

# protection de la lecture des répertoires
 Options -Indexes